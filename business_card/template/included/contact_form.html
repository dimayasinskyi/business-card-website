{% if errors %}
    <div class="alert alert-danger">
        {% for error in errors %}
            <p>{{ error }}</p>
        {% endfor %}
    </div>
{% endif %}

<form method="post" enctype="multipart/form-data" class="mt-3">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary w-100 mt-2">Post</button>
</form>

{% if success %}
<script>
    window.location.href = window.location.href;
    alert("The form has been successfully submitted.");
</script>
{% endif %}

<script>
    document.querySelector("form").addEventListener("submit", function(e) {
        const phone = document.getElementby("phone").value.trim();
        const message = document.getElementby("message").value.trim();
        const file = document.getElementby("file").value;

        if (!phone && !message && !file) {
            alert("Send at least your phone number or a message or a file");
            e.preventDefault();
        }
        
    });
</script>
